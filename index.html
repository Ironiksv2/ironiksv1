<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explore Saint John, New Brunswick</title>
    <style>
        /* Basic reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Styling for the main page */
        body {
            font-family: Arial, sans-serif;
            background-color: #1a1a1a;
            color: #f1f1f1;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            text-align: center;
            min-height: 100vh;
            padding: 20px;
        }

        h1 {
            font-size: 3rem;
            color: #ffd700;
            margin-bottom: 10px;
            animation: fadeIn 1s ease-in-out;
        }

        .container {
            width: 80%;
            max-width: 1200px;
            margin: 20px auto;
        }

        /* Cycling Info Box */
        .info-box {
            background-color: #333;
            font-size: 1.2rem;
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            margin-bottom: 20px;
            color: #1e90ff;
            font-weight: bold;
            animation: fadeIn 2s ease-in-out infinite alternate;
        }

        /* Animations */
        @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }

        /* Slideshow */
        .slideshow img {
            width: 100%;
            height: auto;
            border-radius: 8px;
            transition: opacity 1s ease-in-out;
        }

        /* CB Radio Button */
        .cb-radio a {
            padding: 15px 30px;
            font-size: 1.2rem;
            color: #ffffff;
            background-color: #1e90ff;
            text-decoration: none;
            border-radius: 5px;
            transition: background-color 0.3s ease;
            display: inline-block;
            margin-top: 10px;
        }

        .cb-radio a:hover {
            background-color: #0066cc;
        }
    </style>
</head>
<body>

    <h1>Explore Saint John, New Brunswick</h1>
    <div class="container">
        
        <!-- Cycling Info Box -->
        <div class="info-box" id="infoBox">Loading Saint John Highlights...</div>

        <!-- Photo Slideshow -->
        <div class="slideshow" id="slideshow">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/45/Saint_John_Harbour.jpg/1280px-Saint_John_Harbour.jpg" alt="Saint John Harbor">
        </div>

        <!-- CB Radio Section -->
        <div class="cb-radio">
            <h2>CB Radio Community</h2>
            <p>Join the Saint John CB Radio community to connect with local enthusiasts and explore CB radio communication across the region.</p>
            <a href="https://saintjohn.ironiksv1.webredirect.org" target="_blank">Visit CB Radio Page</a>
        </div>

        <!-- Real-Time Data Sections (Weather, ISS Passes, Sun & Moon Info) -->
        <div id="weather" class="info-box">Loading weather...</div>
        <div id="issPasses" class="info-box">Loading ISS pass data...</div>
        <div id="sunMoon" class="info-box">Loading sun and moon information...</div>
    </div>

    <script>
        // Cycling information about Saint John
        const infoBox = document.getElementById('infoBox');
        const saintJohnInfo = [
            "Saint John is the oldest incorporated city in Canada, founded in 1785.",
            "Known for the Reversing Falls, a unique tidal phenomenon.",
            "Saint John has a rich history in shipbuilding and trade.",
            "Home to Rockwood Park, one of the largest urban parks in Canada.",
            "Enjoy the vibrant Uptown with its historic buildings and modern amenities."
        ];

        let infoIndex = 0;
        setInterval(() => {
            infoBox.textContent = saintJohnInfo[infoIndex];
            infoIndex = (infoIndex + 1) % saintJohnInfo.length;
        }, 4000);

        // Photo Slideshow
        const slideshow = document.getElementById('slideshow');
        const photos = [
            "https://upload.wikimedia.org/wikipedia/commons/thumb/4/45/Saint_John_Harbour.jpg/1280px-Saint_John_Harbour.jpg",
            "https://upload.wikimedia.org/wikipedia/commons/thumb/2/23/King%27s_Square_Saint_John_NB.jpg/1280px-King%27s_Square_Saint_John_NB.jpg",
            "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a4/Reversing_Falls_Saint_John.jpg/1280px-Reversing_Falls_Saint_John.jpg"
        ];

        let photoIndex = 0;
        setInterval(() => {
            slideshow.innerHTML = `<img src="${photos[photoIndex]}" alt="Saint John Scenery">`;
            photoIndex = (photoIndex + 1) % photos.length;
        }, 5000);

        // Real-Time Data Fetching Functions
        async function fetchWeather() {
            try {
                const response = await fetch('https://api.weatherapi.com/v1/current.json?key=YOUR_API_KEY&q=Saint John');
                const data = await response.json();
                document.getElementById('weather').textContent = `Saint John Weather: ${data.current.temp_c}Â°C, ${data.current.condition.text}`;
            } catch (error) {
                document.getElementById('weather').textContent = 'Failed to load weather data.';
            }
        }

        async function fetchISSPasses() {
            try {
                const response = await fetch('https://api.n2yo.com/rest/v1/satellite/visualpasses/25544/45.2733/-66.0633/0/5/300/&apiKey=YOUR_API_KEY');
                const data = await response.json();
                document.getElementById('issPasses').textContent = `Next ISS pass: ${new Date(data.passes[0].startUTC * 1000).toLocaleString()}`;
            } catch (error) {
                document.getElementById('issPasses').textContent = 'Failed to load ISS pass data.';
            }
        }

        async function fetchSunMoonInfo() {
            try {
                const response = await fetch('https://api.weatherapi.com/v1/astronomy.json?key=YOUR_API_KEY&q=Saint John');
                const data = await response.json();
                document.getElementById('sunMoon').textContent = `Sunrise: ${data.astronomy.astro.sunrise}, Sunset: ${data.astronomy.astro.sunset}, Moon phase: ${data.astronomy.astro.moon_phase}`;
            } catch (error) {
                document.getElementById('sunMoon').textContent = 'Failed to load sun and moon information.';
            }
        }

        // Update data every minute
        setInterval(fetchWeather, 60000);
        setInterval(fetchISSPasses, 60000);
        setInterval(fetchSunMoonInfo, 60000);

        // Initial load
        fetchWeather();
        fetchISSPasses();
        fetchSunMoonInfo();
    </script>
</body>
</html>
